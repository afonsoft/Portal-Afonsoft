!function(n){app.modals.LinkedAccountsModal=function(){var a=n("#LinkedAccountsTable"),e=abp.services.app.userLink;this.init=function(n){n};var t=new app.ModalManager({viewUrl:abp.appPath+"App/Profile/LinkAccountModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Profile/_LinkAccountModal.js",modalClass:"LinkAccountModal"});n("#LinkNewAccountButton").click(function(){t.open({},function(){o()})});var i=a.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:e.getLinkedUsers},columnDefs:[{targets:0,data:null,orderable:!1,defaultContent:"",rowAction:{element:n("<button/>").addClass("btn btn-primary btn-sm").text(app.localize("LogIn")).prepend(n("<i/>").addClass("la la-sign-in")).click(function(){var a;a=n(this).data(),abp.ajax({url:abp.appPath+"Account/SwitchToLinkedAccount",data:JSON.stringify({targetUserId:a.id,targetTenantId:a.tenantId}),success:function(){app.supportsTenancyNameInUrl||abp.multiTenancy.setTenantIdCookie(a.tenantId)}})})}},{targets:1,data:"username",orderable:!1,render:function(a,e,t,i){return n("<div/>").append(n("<span/>").text(app.getShownLinkedUserName(t)))[0].outerHTML}},{targets:2,data:null,orderable:!1,defaultContent:"",rowAction:{element:n("<button/>").addClass("btn btn-outline-danger btn-sm btn-icon").attr("title",app.localize("Delete")).append(n("<i/>").addClass("la la-trash")).click(function(){var a;a=n(this).data(),abp.message.confirm(app.localize("LinkedUserDeleteWarningMessage",a.username),app.localize("AreYouSure"),function(n){n&&e.unlinkUser({userId:a.id,tenantId:a.tenantId}).done(function(){o(),abp.notify.success(app.localize("SuccessfullyUnlinked"))})})})}}]});function o(){i.ajax.reload()}}}(jQuery);