var EditTenantModal=function(e){app.modals.EditTenantModal=function(){var t,i=abp.services.app.tenant,n=null;this.init=function(i){var a=(t=i).getModal();(n=a.find("form[name=TenantInformationsForm]")).validate(),a.find(".date-time-picker").datetimepicker({locale:abp.localization.currentLanguage.name,format:"L"});var s=a.find("input[name=SubscriptionEndDateUtc]").parent("div"),d=a.find("#CreateTenant_IsUnlimited");function o(){d.is(":checked")?s.slideUp("fast"):s.slideDown("fast")}d.change(function(){o()});var c=a.find("#EditionId"),r=a.find("#EditTenant_IsInTrialPeriod");c.change(function(){var t="True"===e("option:selected",this).attr("data-isfree"),i=e("option:selected",this).val();t?r.closest("div").slideUp("fast"):r.closest("div").slideDown("fast"),i<=0?(a.find(".subscription-component").slideUp("fast"),d.is(":checked")||s.slideDown("fast")):a.find(".subscription-component").slideDown("fast")}),c.trigger("change"),o()},this.save=function(){if(n.valid()){var a=n.serializeFormToObject();e("#CreateTenant_IsUnlimited").is(":visible")&&!e("#CreateTenant_IsUnlimited").is(":checked")?a.SubscriptionEndDateUtc=e(".date-time-picker").data("DateTimePicker").date().format("YYYY-MM-DDTHH:mm:ss")+"Z":a.SubscriptionEndDateUtc=null,t.setBusy(!0),i.updateTenant(a).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),t.close(),abp.event.trigger("app.editTenantModalSaved")}).always(function(){t.setBusy(!1)})}}}}(jQuery);