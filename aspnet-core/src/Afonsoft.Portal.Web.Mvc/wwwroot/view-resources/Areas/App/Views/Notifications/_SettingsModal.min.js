app.modals.NotificationSettingsModal=function(){var i,t=abp.services.app.notification,o=null;this.init=function(t){(o=(i=t).getModal().find("form[name=NotificationSettingsForm]")).validate(),$(".make-switch").bootstrapSwitch().on("switchChange.bootstrapSwitch",function(){var i=$(this).is(":checked"),t=$("div.notification").length;t?$(".notification-types-header").removeClass("d-none"):$(".notification-types-header").addClass("d-none"),t&&!i?$(".disable-info").removeClass("d-none"):$(".disable-info").addClass("d-none"),i?$("div.notification input[type=checkbox]").removeAttr("disabled"):$("div.notification input[type=checkbox]").attr("disabled","disabled")})},this.save=function(){if(o.valid()){var e,n=o.serializeFormToObject();n.receiveNotifications=$("#NotificationSettigs_ReceiveNotifications").bootstrapSwitch("state"),n.notifications=(e=[],$.each($(".notification input[type=checkbox]"),function(i,t){e.push({name:$(t).attr("id").replace("Notification_",""),isSubscribed:$(t).is(":checked")})}),e),i.setBusy(!0),t.updateNotificationSettings(n).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),i.close()}).always(function(){i.setBusy(!1)})}}};