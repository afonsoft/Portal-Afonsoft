$(function(){var e=abp.services.app.tenantDashboard,a=$(".SalesSummaryContainer"),t=1,i=function(t,i,s,n,r){var l=function(a){return{draw:function(e){this.graph?(this.graph.setData(e),this.graph.redraw()):this.graph=function(e){return new Morris.Area({element:a,padding:0,behaveLikeLine:!1,gridEnabled:!1,gridLineColor:!1,axes:!1,fillOpacity:1,data:e,lineColors:["#399a8c","#92e9dc"],xkey:"period",ykeys:["sales","profit"],labels:["Sales","Profit"],pointSize:0,lineWidth:0,hideHover:"auto",resize:!0})}(e)},refresh:function(a){var t=this;e.getSalesSummary({salesSummaryDatePeriod:a}).done(function(e){t.graph.setData(e.salesSummary),t.graph.redraw()})},graph:null}};a.find("#salesStatistics").show();for(var o=0;o<a.length;o++){$(a[o]).find(".salesStatisticsChart").attr("id","salesStatistics"+o);var u=new l("salesStatistics"+o);u.draw(t),$(a[o]).find("input[name='SalesSummaryDateInterval']").unbind("change"),$(a[o]).find("input[name='SalesSummaryDateInterval']").change(function(){u.refresh(this.value)})}a.find("#totalSales").text(i),a.find("#revenue").text(s),a.find("#expenses").text(n),a.find("#growth").text(r),a.find("#salesStatisticsLoading").hide()};abp.ui.setBusy(a),e.getSalesSummary({salesSummaryDatePeriod:t}).done(function(e){i(e.salesSummary,e.totalSales,e.revenue,e.expenses,e.growth)}).always(function(){abp.ui.clearBusy(a)})});