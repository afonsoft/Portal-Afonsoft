!function(e){e(function(){var t=abp.services.app.hostSettings,i=e("#GeneralSettingsForm [name=Timezone]").val(),n=e("#GeneralSettingsForm [name=TimezoneForComparison]").val()===abp.setting.values["Abp.Timing.TimeZone"],o=e("#SettingsTabPanel"),s=o.find("input[name=SmtpDomain],input[name=SmtpUserName],input[name=SmtpPassword]").closest(".form-group"),a=o.find("input[name=IsNewRegisteredTenantActiveByDefault],input[name=UseCaptchaOnRegistration]").closest(".form-group"),l=e("#UserLockOutSettingsForm").find("input").not("#Setting_UserLockOut_IsEnabled").closest(".form-group"),r=e("#TwoFactorLoginSettingsForm").find("input").not("#Setting_TwoFactorLogin_IsEnabled").closest(".kt-checkbox"),c=o.find(".divSessionTimeOut");function m(){e("#Settings_SmtpUseDefaultCredentials").is(":checked")?s.slideUp("fast"):s.slideDown("fast")}function g(){e("#Setting_AllowSelfRegistration").is(":checked")?a.slideDown("fast"):a.slideUp("fast")}function d(){e("#Setting_UserLockOut_IsEnabled").is(":checked")?l.slideDown("fast"):l.slideUp("fast")}function u(){e("#Setting_TwoFactorLogin_IsEnabled").is(":checked")?r.slideDown("fast"):r.slideUp("fast")}function S(){e("#Setting_IsSessionTimeOutEnabled").is(":checked")?c.slideDown("fast"):c.slideUp("fast")}function f(){var t=e("#DefaultPasswordComplexitySettingsForm input:disabled");t.removeAttr("disabled");var i=e("#DefaultPasswordComplexitySettingsForm").serializeFormToObject();return t.attr("disabled","disabled"),i}m(),g(),d(),u(),S(),e("#Settings_SmtpUseDefaultCredentials").change(function(){m()}),e("#Setting_AllowSelfRegistration").change(function(){g()}),e("#Setting_UserLockOut_IsEnabled").change(function(){d()}),e("#Setting_TwoFactorLogin_IsEnabled").change(function(){u()}),e("#Setting_IsSessionTimeOutEnabled").change(function(){S()}),e("#Setting_PasswordComplexity_UseDefaultSettings").change(function(t){e("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked")?(e("#DefaultPasswordComplexitySettingsForm").show(),e("#PasswordComplexitySettingsForm").hide()):(e("#DefaultPasswordComplexitySettingsForm").hide(),e("#PasswordComplexitySettingsForm").show())}),e("#SaveAllSettingsButton").click(function(){var o=e("#UserManagementSettingsForm").serializeFormToObject();o.sessionTimeOutSettings={isEnabled:e("#Setting_IsSessionTimeOutEnabled").is(":checked"),timeOutSecond:e("#Setting_SessionTimeOutSecond").val(),showTimeOutNotificationSecond:e("#Setting_ShowTimeOutNotificationSecond").val()},t.updateAllSettings({general:e("#GeneralSettingsForm").serializeFormToObject(),tenantManagement:e("#TenantManagementSettingsForm").serializeFormToObject(),userManagement:o,email:e("#EmailSmtpSettingsForm").serializeFormToObject(),chat:e("#ChatSettingsForm").serializeFormToObject(),billing:e("#BillingSettingsForm").serializeFormToObject(),otherSettings:e("#OtherSettingsForm").serializeFormToObject(),security:{useDefaultPasswordComplexitySettings:e("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked"),passwordComplexity:e("#PasswordComplexitySettingsForm").serializeFormToObject(),defaultPasswordComplexity:f(),userLockOut:e("#UserLockOutSettingsForm").serializeFormToObject(),twoFactorLogin:e("#TwoFactorLoginSettingsForm").serializeFormToObject(),AllowOneConcurrentLoginPerUser:e("#Setting_AllowOneConcurrentLoginPerUser").is(":checked")}}).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));var t=e("#GeneralSettingsForm [name=Timezone]").val();abp.clock.provider.supportsMultipleTimezone&&n&&i!==t&&abp.message.info(app.localize("TimeZoneSettingChangedRefreshPageNotification")).done(function(){window.location.reload()})})}),e("#SendTestEmailButton").click(function(){t.sendTestEmail({emailAddress:e("#TestEmailAddressInput").val()}).done(function(){abp.notify.info(app.localize("TestEmailSentSuccessfully"))})})})}(jQuery);