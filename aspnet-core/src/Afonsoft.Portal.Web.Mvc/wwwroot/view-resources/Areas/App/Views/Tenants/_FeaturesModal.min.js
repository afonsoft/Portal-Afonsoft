app.modals.TenantFeaturesModal=function(){var e,t,a=abp.services.app.tenant;this.init=function(n){e=n,(t=new FeaturesTree).init(e.getModal().find(".feature-tree")),e.getModal().find("[data-toggle=tooltip]").tooltip(),e.getModal().find(".reset-features-button").click(function(){e.setBusy(!0),a.resetTenantSpecificFeatures({id:e.getArgs().id}).done(function(){abp.notify.info(app.localize("ResetSuccessfully")),e.getModal().on("hidden.bs.modal",function(t){e.reopen()}),e.close()}).always(function(){e.setBusy(!1)})})},this.save=function(){t.isValid()?(e.setBusy(!0),a.updateTenantFeatures({id:e.getArgs().id,featureValues:t.getFeatureValues()}).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close()}).always(function(){e.setBusy(!1)})):abp.message.warn(app.localize("InvalidFeaturesWarning"))}};