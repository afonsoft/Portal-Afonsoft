app.modals.EntityTypeHistoryModal=function(){var t,e,a,n=abp.services.app.auditLog,i={serviceMethod:null,title:app.localize("SelectAnItem"),loadOnStartup:!0,showFilter:!0,filterText:"",pageSize:app.consts.grid.defaultPageSize,canSelect:function(t){return!0}};this.init=function(l){t=l,i=$.extend(i,t.getOptions().lookupOptions),e=t.getModal().find(".entity-type-history-table"),a=t.getArgs(),e.DataTable({paging:!0,serverSide:!0,processing:!0,lengthChange:!1,pageLength:i.pageSize,deferLoading:i.loadOnStartup?null:0,listAction:{ajaxFunction:n.getEntityTypeChanges,inputFilter:function(){return{entityTypeFullName:a.entityTypeFullName,entityId:a.entityId}}},columnDefs:[{targets:0,data:null,orderable:!1,defaultContent:"",rowAction:{element:$("<div/>").addClass("text-center").append($("<button/>").addClass("btn btn-outline-primary btn-sm btn-icon").attr("title",app.localize("EntityChangeDetail")).append($("<i/>").addClass("la la-search"))).click(function(){var t;t=$(this).data(),new app.ModalManager({viewUrl:abp.appPath+"App/AuditLogs/EntityChangeDetailModal",modalClass:"EntityChangeDetailModal"}).open({entityChangeListDto:t})})}},{targets:1,data:"changeTypeName",orderable:!1,render:function(t){return app.localize(t)}},{targets:2,data:"userName"},{targets:3,data:"changeTime",render:function(t){return moment(t).format("L LT")}}]}).ajax.reload()}},app.modals.EntityTypeHistoryModal.create=function(){return new app.ModalManager({viewUrl:abp.appPath+"App/Common/EntityTypeHistoryModal",scriptUrl:abp.appPath+"view-resources/Areas/App/Views/Common/Modals/_EntityTypeHistoryModal.js",modalClass:"EntityTypeHistoryModal"})};