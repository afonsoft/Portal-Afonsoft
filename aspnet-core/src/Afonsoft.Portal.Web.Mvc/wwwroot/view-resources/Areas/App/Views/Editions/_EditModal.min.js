app.modals.CreateOrEditEditionModal=function(){var e,a,i=abp.services.app.edition,t=null;this.init=function(i){var n=(e=i).getModal();(a=new FeaturesTree).init(n.find(".feature-tree")),(t=e.getModal().find("form[name=EditionInformationsForm]")).validate()},this.save=function(){if(t.valid())if(a.isValid()){var n=t.serializeFormToObject();e.setBusy(!0),i.updateEdition({edition:n,featureValues:a.getFeatureValues()}).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditEditionModalSaved")}).always(function(){e.setBusy(!1)})}else abp.message.warn(app.localize("InvalidFeaturesWarning"))}};