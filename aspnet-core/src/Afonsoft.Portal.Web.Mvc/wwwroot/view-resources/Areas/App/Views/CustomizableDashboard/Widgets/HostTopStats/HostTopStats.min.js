$(function(){var t=abp.services.app.hostDashboard,a=$(".HostTopStatsContainer"),e=a.find(".new-tenants-statistics .status-title"),n=a.find(".new-tenants-statistics .new-tenants-count"),s=a.find(".new-subscription-statistics .status-title"),d=a.find(".new-subscription-statistics .new-subscription-amount"),i=a.find(".dashboard-statistics1 .dashboard-placeholder1"),r=a.find(".dashboard-statistics2 .dashboard-placeholder2"),o=a.find(".counterup"),c=app.widgetBase.create(),u={startDate:moment().add(-7,"days").startOf("day"),endDate:moment().endOf("day")},D=function(){return u.startDate.format("L")+" - "+u.endDate.format("L")},p=function(){abp.ui.setBusy(a),t.getTopStatsData({startDate:u.startDate,endDate:u.endDate}).done(function(t){var a,c,u;a=t.newTenantsCount,e.text(D()),n.text(a),c=t.newSubscriptionAmount,s.text(D()),d.text(c),u=t.dashboardPlaceholder1,i.text(u),function(t){r.text(t)}(t.dashboardPlaceholder2),o.counterUp()}).always(function(){abp.ui.clearBusy(a)})};abp.event.on("app.dashboardFilters.DateRangePicker.OnDateChange",function(t){!t||u.startDate===t.startDate&&u.endDate===t.endDate||(u.startDate=t.startDate,u.endDate=t.endDate,c.runDelayed(p))}),c.runDelayed(p)});