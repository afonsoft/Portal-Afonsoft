app.modals.UserPermissionsModal=function(){var e,s,i=abp.services.app.user;this.init=function(n){e=n,(s=new PermissionsTree).init(e.getModal().find(".permission-tree")),e.getModal().find("[data-toggle=tooltip]").tooltip(),e.getModal().find(".reset-permissions-button").click(function(){e.setBusy(!0),i.resetUserSpecificPermissions({id:e.getArgs().id}).done(function(){abp.notify.info(app.localize("ResetSuccessfully")),e.getModal().on("hidden.bs.modal",function(s){e.reopen()}),e.close()}).always(function(){e.setBusy(!1)})})},this.save=function(){e.setBusy(!0),i.updateUserPermissions({id:e.getArgs().id,grantedPermissionNames:s.getSelectedPermissionNames()}).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close()}).always(function(){e.setBusy(!1)})}};