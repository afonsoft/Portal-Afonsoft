app.modals.CreateOrEditRoleModal=function(){var e,i,a=abp.services.app.role,o=null;this.init=function(a){e=a,(i=new PermissionsTree).init(e.getModal().find(".permission-tree")),(o=e.getModal().find("form[name=RoleInformationsForm]")).validate({ignore:""})},this.save=function(){if(o.valid()){var n=o.serializeFormToObject();e.setBusy(!0),a.createOrUpdateRole({role:n,grantedPermissionNames:i.getSelectedPermissionNames()}).done(function(){abp.notify.info(app.localize("SavedSuccessfully")),e.close(),abp.event.trigger("app.createOrEditRoleModalSaved")}).always(function(){e.setBusy(!1)})}}};